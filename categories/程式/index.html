<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Category: 程式 - 歐欸利恩的部落格</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="歐欸利恩的部落格"><meta name="msapplication-TileImage" content="/images/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="歐欸利恩的部落格"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="歐欸利恩的部落格"><meta property="og:url" content="http://oalieno.github.io/"><meta property="og:site_name" content="歐欸利恩的部落格"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://oalieno.github.io/img/og_image.png"><meta property="article:author" content="oalieno"><meta property="article:tag" content="blog, security, programming, coding, life"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://oalieno.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://oalieno.github.io"},"headline":"歐欸利恩的部落格","image":["http://oalieno.github.io/img/og_image.png"],"author":{"@type":"Person","name":"oalieno"},"publisher":{"@type":"Organization","name":"歐欸利恩的部落格","logo":{"@type":"ImageObject","url":{"text":"歐欸利恩的部落格","img":"/images/logo.svg"}}},"description":""}</script><link rel="icon" href="/images/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&amp;family=Material+Icons&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-LYLB67MBLS" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-LYLB67MBLS');</script><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img nolazy src="/images/logo.svg" alt="歐欸利恩的部落格" height="28"><p>歐欸利恩的部落格</p></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首頁</a><a class="navbar-item" href="/archives">文章</a><a class="navbar-item" href="/categories">分類</a><a class="navbar-item" href="/tags">標籤</a><a class="navbar-item" href="/about">關於我</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">程式</a></li></ul></nav></div></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2022-03-29T16:00:00.000Z" title="3/30/2022, 12:00:00 AM">2022-03-30</time></span><i class="material-icons">schedule</i><span class="level-item">3 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/30/blog03/">【部落格開發日誌】0x03</a></h1><div class="content"><h2 id="部落格要恢復更新啦">部落格要恢復更新啦</h2>
<p>距離上次更新也過了一年多了，期間為了更加客製化主題，還想過要自己從頭刻部落格，真是太天真了啊<br>
最後還是回來用新版的 icarus 主題，真香。<br>
之前是把 icarus 主題跟部落格綁在同個 repo 一起更新，但這樣不好管理，所以現在就直接 <a target="_blank" rel="noopener" href="https://github.com/oalieno/hexo-theme-icarus">fork 一份出來維護</a>，是用最版的 <code>5.0.0-rc.1</code>，之後有新版本就再 merge 進來就好了。把之前做過得一些改動都整合進主題了，還是自己客製化過得最對味啊。<br>
之後會慢慢把之前的文章再放回來，應該至少一週一更吧，希望xD</p>
<h2 id="icarus-大改版">icarus 大改版</h2>
<p>我之前用的 icarus 版本還在寫 <code>.ejs</code><br>
現在已經在寫 <code>.jsx</code> 了<br>
之前的部落格開發日誌上的程式碼有些可能都不能直接套用了<br>
不過不用擔心我現在已經把我改的程式碼推到 <a target="_blank" rel="noopener" href="https://github.com/oalieno/hexo-theme-icarus">這裡</a> 了</p>
<h2 id="Excerpt">Excerpt</h2>
<p>我發現 icarus 的 excerpt 可以寫在文章內容的開頭，而不用寫在 front matter<br>
中間加一個 <code>&lt;!-- more --&gt;</code> 和文章主體區隔<br>
像是下面這樣，或是看<a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus/blob/site/source/_posts/en/Getting-Started.md?plain=1">這裡範例</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Hello, this is the excerpt</span><br><span class="line"></span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line"></span><br><span class="line">This is the article</span><br></pre></td></tr></table></figure>
<p>這樣 excerpt 也可以快樂寫 markdown<br>
在首頁也只會顯示到 <code>&lt;!-- more --&gt;</code> 之前的內容<br>
但是點 Read More 的按鈕跳進去文章之後，會發現 excerpt 其實還在<br>
只是頁面會捲動到 <code>#more</code> 這個 hashtag 也就是文章主體的開頭<br>
不過這樣感覺只是一個偷懶的作法，不是一個完美的作法</p>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2022/03/30/blog03/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2020-02-21T16:00:00.000Z" title="2/22/2020, 12:00:00 AM">2020-02-22</time></span><i class="material-icons">schedule</i><span class="level-item">2 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/02/22/blog02/">【部落格開發日誌】0x02</a></h1><div class="content"><h2 id="Admonition">Admonition</h2>
<p>我把 <a target="_blank" rel="noopener" href="https://squidfunk.github.io/mkdocs-material/extensions/admonition/">Material for MkDocs - Admonition Extension</a> 搬過來啦，因為實在太好看，就搬過來用了，並且做了下面兩個小改動</p>
<ol>
<li>把 <code>border-radius</code> 拔掉了，還是方的好看</li>
<li>陰影改淡了，感覺比較對</li>
</ol>
<details class="admonition example" open><summary>example</summary><p><p>這是範例</p>
</p></details>
<details class="admonition note" open><summary>note</summary><p><p>這是範例</p>
</p></details>
<details class="admonition abstract" open><summary>abstract</summary><p><p>這是範例</p>
</p></details>
<details class="admonition info" open><summary>info</summary><p><p>這是範例</p>
</p></details>
<details class="admonition tip" open><summary>tip</summary><p><p>這是範例</p>
</p></details>
<details class="admonition success" open><summary>success</summary><p><p>這是範例</p>
</p></details>
<details class="admonition question" open><summary>question</summary><p><p>這是範例</p>
</p></details>
<details class="admonition warning" open><summary>warning</summary><p><p>這是範例</p>
</p></details>
<details class="admonition failure" open><summary>failure</summary><p><p>這是範例</p>
</p></details>
<details class="admonition danger" open><summary>danger</summary><p><p>這是範例</p>
</p></details>
<details class="admonition quote" open><summary>quote</summary><p><p>這是範例</p>
</p></details>
<h3 id="實作">實作</h3>
<p>從 <a target="_blank" rel="noopener" href="https://github.com/haishanh/hexo-tag-admonition">hexo-tag-admonition</a> 借 code 過來改<br>
基本上就是 register 一個新的 hexo tag，然後用到了 <code>details</code> 和 <code>summary</code> 這兩個 html5 新的 tag<br>
改的時候有幾個小地方要注意</p>
<ol>
<li><code>details</code> tag 原本就有一個箭頭但是很醜，在 <code>summary::-webkit-details-marker</code> 設定 <code>display:none</code> 拔掉他</li>
<li>icon 用到了 <code>font-family: Material Icons</code>，要在 <code>head</code> 裡面加個字體</li>
</ol>
<h2 id="Code-block">Code block</h2>
<p>另一個改動是程式碼區塊的部分，原來的有點小醜，就改了幾下</p>
<ol>
<li>沒有給檔名就不要顯示上面的 header</li>
<li>可以指定起始行數，以及指定標記特定行數，如下範例</li>
</ol>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python run.py &gt;3,6</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><figcaption><span>run.py >3,6</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;test <span class="subst">&#123;math.factorial(<span class="number">5</span>)&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2020/02/22/blog02/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2020-02-07T16:00:00.000Z" title="2/8/2020, 12:00:00 AM">2020-02-08</time></span><i class="material-icons">schedule</i><span class="level-item">2 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/02/08/blog01/">【部落格開發日誌】0x01</a></h1><div class="content"><p>部落格架好後，趁熱使用一下各種網站追蹤評測的工具，比如 <a target="_blank" rel="noopener" href="https://search.google.com/search-console">Google Search Console</a>, <a target="_blank" rel="noopener" href="https://analytics.google.com/analytics/web/">Google Analytics</a>, <a target="_blank" rel="noopener" href="https://developers.google.com/speed/pagespeed/insights/">PageSpeed Insights</a>, <a target="_blank" rel="noopener" href="https://sitechecker.pro/">Sitechecker</a>, <a target="_blank" rel="noopener" href="https://www.hotjar.com/">Hotjar</a></p>
<h2 id="Hotjar">Hotjar</h2>
<p>記錄使用者點擊的 heatmap</p>
<p align="center"><img data-src="/images/hotjar-heatmap.png" class=" lazyload"  width="800" title="hotjar heatmap example"></p>
<p>記錄使用者游標移動的路徑</p>
<p align="center"><img data-src="/images/hotjar-record.gif" class=" lazyload"  width="800" title="hotjar record example"></p>
<p>還可以收集使用者的 feedback 回饋，不過載入時間有點久，部落格也不太需要這些資訊，所以就拔掉了，試用一下而已xD</p>
<h2 id="SEO">SEO</h2>
<h3 id="Defer-offscreen-images">Defer offscreen images</h3>
<p>參考 <a target="_blank" rel="noopener" href="https://web.dev/codelab-use-lazysizes-to-lazyload-images/">Lazy load offscreen images with lazysizes</a>，只要載入 <a target="_blank" rel="noopener" href="https://github.com/aFarkas/lazysizes">lazysizes</a> 這個 scripts 進來，然後把 <code>src</code> 改成 <code>data-src</code> 並加上 <code>class=&quot;lazyload&quot;</code> 就好了</p>
<p>註冊個 hexo 的 <code>after_render</code>，把所有 img tag 抓出來改就完事了</p>
<figure class="highlight js"><figcaption><span>scripts/lazy-load-image.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;after_render:html&#x27;</span>, <span class="keyword">function</span> (<span class="params">htmlContent</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> htmlContent.<span class="title function_">replace</span>(<span class="regexp">/&lt;img src=&quot;([^&quot;]*)&quot; (?:class=&quot;([^&quot;]*)&quot;)?([^&gt;]*)&gt;/</span>, <span class="string">&#x27;&lt;img data-src=&quot;$1&quot; class=&quot;$2 lazyload&quot; $3&gt;&#x27;</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://github.com/aFarkas/lazysizes">lazysizes</a> 有 cdn，很方便的</p>
<figure class="highlight plaintext"><figcaption><span>layout/common/scripts.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.0/lazysizes.min.js&quot; defer&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Sitemap">Sitemap</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap</span><br></pre></td></tr></table></figure>
<p>裝好 hexo-generator-sitemap 之後，在 <code>_config.yml</code> 加一行收工</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure>
<h3 id="Robots-txt">Robots.txt</h3>
<p>直接放在 <code>source/_posts</code> 下面就行了，簡單搞定</p>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2020/02/08/blog01/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2020-01-22T16:00:00.000Z" title="1/23/2020, 12:00:00 AM">2020-01-23</time></span><i class="material-icons">schedule</i><span class="level-item">8 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/23/blog00/">【部落格開發日誌】0x00</a></h1><div class="content"><p>之前的部落格是用 mkdocs，但是 mkdocs 其實是用來生成 document 的，不是拿來生成部落格的，所以文章都沒有日期，也沒有近期文章或是標籤的功能，我之所以選 mkdocs 是因為 <a target="_blank" rel="noopener" href="https://github.com/squidfunk/mkdocs-material">mkdocs-material</a> 實在太好看了很對我胃口，不過最近興起了想幫部落格換個皮的念頭，主要是看上了 <a target="_blank" rel="noopener" href="https://blog.zhangruipeng.me/hexo-theme-icarus/">icarus</a> 和 <a target="_blank" rel="noopener" href="https://xaoxuu.com/wiki/material-x/">material-x</a> 這兩個主題，都是 hexo 的主題，最後選了 <a target="_blank" rel="noopener" href="https://blog.zhangruipeng.me/hexo-theme-icarus/">icarus</a>，然後再自己手動調整，下面會說明一下我手動調整的內容</p>
<h2 id="排版">排版</h2>
<p>這個主題整體來說很好看的，但是我不喜歡他的排版，文章只能擠在中間細細長長的，左右兩邊還留了很多空隙，不知道是作者的螢幕太小還是我螢幕太大，所以我把所有 widget 都移到左邊，然後把欄位的比例改成 3:9，css 的部份在 <code>source/css/style.styl:21</code> 把寬度調寬</p>
<figure class="highlight plaintext"><figcaption><span>layout/layout.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">case 2:</span><br><span class="line">    return &#x27;is-9-tablet is-9-desktop is-9-widescreen&#x27;;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>layout/common/widget.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">case 2:</span><br><span class="line">    return &#x27;is-3-tablet is-3-desktop is-3-widescreen&#x27;;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>source/css/style.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">gap</span> = <span class="number">40px</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: screen-widescreen)</span><br><span class="line">    .is-<span class="number">1</span>-column .container</span><br><span class="line">    .is-<span class="number">2</span>-column .container</span><br><span class="line">        <span class="attribute">max-width</span>: screen-widescreen - <span class="number">2</span> * gap</span><br><span class="line">        <span class="attribute">width</span>: screen-widescreen - <span class="number">2</span> * gap</span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: screen-fullhd)</span><br><span class="line">    .is-<span class="number">2</span>-column .container</span><br><span class="line">        <span class="attribute">max-width</span>: screen-fullhd - <span class="number">2</span> * gap</span><br><span class="line">        <span class="attribute">width</span>: screen-fullhd - <span class="number">2</span> * gap</span><br><span class="line">    .is-<span class="number">1</span>-column .container</span><br><span class="line">        <span class="attribute">max-width</span>: screen-fullhd - <span class="number">2</span> * gap</span><br><span class="line">        <span class="attribute">width</span>: screen-fullhd - <span class="number">2</span> * gap</span><br></pre></td></tr></table></figure>
<h2 id="Read-More">Read More</h2>
<p>原本 <a target="_blank" rel="noopener" href="https://blog.zhangruipeng.me/hexo-theme-icarus/">icarus</a> 只有 excerpt 這個選項可以加在文章的 front-matter 中，如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &quot;部落格開發日誌&quot;</span><br><span class="line">excerpt: 寫一些摘要在這邊</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>但是要每一篇都要自己寫摘要好麻煩，我比較想要的是只顯示固定長度，然後邊邊模糊處理，所以就自己手刻了一個</p>
<figure class="highlight plaintext"><figcaption><span>layout/common/article.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;card &lt;%= index &amp;&amp; (!post.hasOwnProperty(&#x27;readmore&#x27;) || post.readmore) ? &#x27;card-readmore&#x27; : &#x27;&#x27; %&gt;&quot;&gt;</span><br><span class="line">...</span><br><span class="line">    &lt;% if (index &amp;&amp; (!post.hasOwnProperty(&#x27;readmore&#x27;) || post.readmore)) &#123; %&gt;</span><br><span class="line">        &lt;div class=&quot;level is-mobile readmore-button&quot;&gt;</span><br><span class="line">            ...</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>source/css/style.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.card-readmore</span></span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">400px</span></span><br><span class="line">    overflow: hidden</span><br><span class="line">    position: relative</span><br><span class="line">    .readmore-button</span><br><span class="line">        position absolute</span><br><span class="line">        left: <span class="number">0</span></span><br><span class="line">        bottom: <span class="number">20px</span></span><br><span class="line">        width: <span class="number">100%</span></span><br><span class="line">        display: flex</span><br><span class="line">        justify-content center</span><br><span class="line">        z-index: <span class="number">20</span></span><br><span class="line">    &amp;:after</span><br><span class="line">        content: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        position: absolute</span><br><span class="line">        bottom: <span class="number">60px</span></span><br><span class="line">        width: <span class="number">100%</span></span><br><span class="line">        height: <span class="number">100px</span></span><br><span class="line">        z-index: <span class="number">10</span></span><br><span class="line">        background-image: <span class="built_in">linear-gradient</span>(to bottom, <span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">100%</span>, <span class="number">100%</span>, <span class="number">0</span>), <span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">100%</span>, <span class="number">100%</span>, <span class="number">0.9</span>))</span><br><span class="line">    &amp;:before</span><br><span class="line">        content: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        position: absolute</span><br><span class="line">        bottom: <span class="number">0</span></span><br><span class="line">        width: <span class="number">100%</span></span><br><span class="line">        height: <span class="number">60px</span></span><br><span class="line">        z-index: <span class="number">10</span></span><br><span class="line">        background-image: <span class="built_in">linear-gradient</span>(to bottom, <span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">100%</span>, <span class="number">100%</span>, <span class="number">0.9</span>), <span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">100%</span>, <span class="number">100%</span>, <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h2>Adblock</h2>
<p>我本身有在用 AdBlock，然後在用 <a target="_blank" rel="noopener" href="https://blog.zhangruipeng.me/hexo-theme-icarus/">icarus</a> 主題的時候發現有些物件會憑空消失，比如 back-to-top 那個按了可以回到頁面頂端的小按鈕，後來發現是被 AdBlock 砍了，因為那個小按鈕有 <code>.back-to-top</code> 這個 class，不只 <code>.back-to-top</code> 還有很多關鍵字會被砍，可以看這份 <a target="_blank" rel="noopener" href="https://gist.github.com/spyesx/42fe84c0ef757d1c38a4">Class and ID to avoid because of AdBlock</a>，那我的解決辦法就是把原始碼裡所有的 back-to-top 改名成 bottom-to-top</p>
<p>就在剛剛，我寫完第一段之後，發現上面的 h2 標題 Adblock 因為 markdown 生成 html 時自動加了 <code>id=Adblock</code>，然後就被 AdBlock 砍了，只好改成自己手刻 html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Adblock<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>另一個被砍掉的是 font-awesome 的 icon <code>.fa-instagram</code>，這個就不好改名了，所以我加了一小行 javascript 把 <code>.fa-ig</code> 改成 <code>.fa-instagram</code>，以結果來看我的 script 跑的順序應該是比 AdBlock 來得後面所以沒有被砍</p>
<figure class="highlight javascript"><figcaption><span>source/js/main.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&#x27;.fa-ig&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;fa-instagram&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;.fa-ig&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;fa-ig&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Github">Github</h2>
<p><a target="_blank" rel="noopener" href="https://github.com/squidfunk/mkdocs-material">mkdocs-material</a> 主題的右上角有顯示 github star 的功能，我覺得很酷，所以就搬過來了</p>
<figure class="highlight plaintext"><figcaption><span>layout/common/navbar.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;a class=&quot;navbar-item github-source&quot; href=&quot;&lt;%= github.url %&gt;&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;github-source-icon&quot;&gt;&lt;i class=&quot;fab fa-lg fa-github-alt&quot;&gt;&lt;/i&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;github-source-repository&quot;&gt;</span><br><span class="line">        &lt;%= github.name %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>source/css/style.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.github-source</span></span><br><span class="line">    <span class="selector-class">.github-source-icon</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">5px</span></span><br><span class="line">    .github-source-repository</span><br><span class="line">        padding-left: <span class="number">10px</span></span><br><span class="line">        font-size: <span class="number">10px</span></span><br><span class="line">        font-weight: <span class="number">1000</span></span><br><span class="line">        ul</span><br><span class="line">            animation: animateElement linear .<span class="number">3s</span>;</span><br><span class="line">            <span class="attribute">animation-iteration-count</span>: <span class="number">1</span>;</span><br><span class="line">            <span class="selector-tag">li</span> </span><br><span class="line">                <span class="attribute">float</span>: left</span><br><span class="line">                font-weight: <span class="number">200</span></span><br><span class="line">            #github-forks</span><br><span class="line">                margin-left: <span class="number">3px</span></span><br><span class="line"></span><br><span class="line">@keyframes animateElement&#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transform</span>:  <span class="built_in">translate</span>(<span class="number">0px</span>,<span class="number">10px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>:  <span class="built_in">translate</span>(<span class="number">0px</span>,<span class="number">0px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><figcaption><span>source/js/main.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> (<span class="title class_">IcarusThemeSettings</span>) !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp;</span><br><span class="line">    <span class="keyword">typeof</span> (<span class="title class_">IcarusThemeSettings</span>.<span class="property">github</span>.<span class="property">url</span>) !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="title class_">IcarusThemeSettings</span>.<span class="property">github</span>.<span class="property">url</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(url)</span><br><span class="line">    <span class="keyword">const</span> matches = <span class="regexp">/^.+github\.com\/([^/]+)\/?([^/]+)?.*$/</span>.<span class="title function_">exec</span>(url)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(matches)</span><br><span class="line">    <span class="keyword">if</span> (matches &amp;&amp; matches.<span class="property">length</span> === <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> [, user, name] = matches</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(user, name)</span><br><span class="line">        <span class="keyword">const</span> api = <span class="string">`https://api.github.com/users/<span class="subst">$&#123;user&#125;</span>/repos`</span></span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">paginate</span> = (<span class="params">page = <span class="number">0</span></span>) =&gt; (</span><br><span class="line">            <span class="title function_">fetch</span>(<span class="string">`<span class="subst">$&#123;api&#125;</span>?per_page=100&amp;sort=updated&amp;page=<span class="subst">$&#123;page&#125;</span>`</span>)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (!(data <span class="keyword">instanceof</span> <span class="title class_">Array</span>))</span><br><span class="line">                    <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Display number of stars and forks, if repository is given */</span></span><br><span class="line">                <span class="keyword">if</span> (name) &#123;</span><br><span class="line">                    <span class="keyword">const</span> repo = data.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">name</span> === name)</span><br><span class="line">                    <span class="keyword">if</span> (!repo &amp;&amp; data.<span class="property">length</span> === <span class="number">30</span>) <span class="keyword">return</span> <span class="title function_">paginate</span>(page + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">typeof</span> repo.<span class="property">stargazers_count</span> !== <span class="string">&#x27;number&#x27;</span> || <span class="keyword">typeof</span> repo.<span class="property">forks_count</span> !== <span class="string">&#x27;number&#x27;</span>) <span class="keyword">return</span> []</span><br><span class="line">                    <span class="comment">/* If we found a repo, extract the facts */</span></span><br><span class="line">                    <span class="keyword">return</span> repo</span><br><span class="line">                    ? [</span><br><span class="line">                        <span class="string">`<span class="subst">$&#123;repo.stargazers_count&#125;</span> Stars`</span>,</span><br><span class="line">                        <span class="string">`<span class="subst">$&#123;repo.forks_count&#125;</span> Forks`</span></span><br><span class="line">                    ]</span><br><span class="line">                    : []</span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Display number of repositories, otherwise */</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> [</span><br><span class="line">                    <span class="string">`<span class="subst">$&#123;data.length&#125;</span> Repositories`</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        <span class="title function_">paginate</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">            <span class="keyword">const</span> [stars, forks] = data</span><br><span class="line">            <span class="keyword">const</span> facts = $(<span class="string">`&lt;ul class=&quot;github-facts&quot;&gt;&lt;li id=&quot;github-stars&quot;&gt;<span class="subst">$&#123;stars&#125;</span>&lt;/li&gt;&lt;li id=&quot;github-forks&quot;&gt;• <span class="subst">$&#123;forks&#125;</span>&lt;/li&gt;&lt;/ul&gt;`</span>)</span><br><span class="line">            $(<span class="string">&#x27;.github-source-repository&#x27;</span>).<span class="title function_">append</span>(facts)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="舊部落格">舊部落格</h2>
<p><a href="/old/">舊的部落格</a>我還在慢慢搬移當中，所以我把 mkdocs 生成的 html 放進來 hexo 當 static files，只要放在 <code>source/old/</code> 底下然後在 <code>_config.yml</code> 裡面加一行 <code>skip_render: old/**</code>，hexo 就不會去 render 他了</p>
<h2 id="疑難雜症-2">疑難雜症</h2>
<p>在改主題原始碼的過程中，遇到各種奇怪問題時，記得先 <code>hexo clean</code> 一下</p>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2020/01/23/blog00/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2020-01-17T16:00:00.000Z" title="1/18/2020, 12:00:00 AM">2020-01-18</time></span><i class="material-icons">schedule</i><span class="level-item">5 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/01/18/terminal/">【一秒變時尚】zimfw + powerlevel10k + nord</a></h1><div class="content"><h2 id="Zimfw"><a target="_blank" rel="noopener" href="https://github.com/zimfw/zimfw">Zimfw</a></h2>
<p>我也是用了很久的 <a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">oh-my-zsh</a>，一直都覺得 terminal 有點慢，不過直到看到這篇 <a target="_blank" rel="noopener" href="https://www.jkg.tw/?p=2876">打造屬於你自己的極速 Shell「iTerm + zsh + zim + powerlevel10k」</a>，才有想要換的念頭</p>
<p><a target="_blank" rel="noopener" href="https://github.com/zimfw/zimfw">zimfw</a> 的優點就是快，雖然他不像 <a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">oh-my-zsh</a> 一樣有<a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins">這麼多內建的插件</a>，但一般的 zsh 插件他也都可以安裝，而且最常用也一定要有的 <code>zsh-syntax-highlight</code>, <code>zsh-completions</code>, <code>zsh-autosuggestions</code> 預設都幫你配置好了，其他插件的安裝請看下面的說明</p>
<h3 id="插件安裝">插件安裝</h3>
<p>官方提供的插件<a target="_blank" rel="noopener" href="https://github.com/zimfw/zimfw/wiki/Modules">在這</a>，archive 預設沒裝，我推薦可以安裝，他跟 <a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">oh-my-zsh</a> 的 <a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/extract">extract</a> 插件是同樣的功能，會自動幫你根據副檔名解壓縮，就不需要再去背那些指令</p>
<p>非官方的插件的話，我們以 <a target="_blank" rel="noopener" href="https://github.com/djui/alias-tips">alias-tips</a> 這個插件做例子，只要在 <code>.zimrc</code> 加入下面一行</p>
<figure class="highlight bash"><figcaption><span>.zimrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zmodule djui/alias-tips</span><br></pre></td></tr></table></figure>
<p>然後打 <code>zimfw install</code>，他就會去幫你 git clone 那個 repo 下來，接著在載入插件的時候會去找 <code>&#123;init.zsh|module_name.&#123;zsh|plugin.zsh|zsh-theme|sh&#125;&#125;</code> 這個格式的檔名，只要找得到這樣的檔案的 github repo 基本上都可以安裝</p>
<h2 id="Powerlevel10k"><a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">Powerlevel10k</a></h2>
<p><a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> 看名字就知道是用來幹掉 <a target="_blank" rel="noopener" href="https://github.com/Powerlevel9k/powerlevel9k">powerlevel9k</a> 的，記得當初看到 <a target="_blank" rel="noopener" href="https://github.com/Powerlevel9k/powerlevel9k">powerlevel9k</a> 的時候兩眼發光，此生沒看過這麼漂亮的主題，直到現在看到 <a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> powerlevel9k，那 <a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> 究竟是猛在哪，就我來看，我覺得 <a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> 最大的優點在於他優秀的客製化系統，請看下圖</p>
<p align="center"><img data-src="/images/powerlevel10k.gif" class=" lazyload"  title="powerlevel10k 設定畫面"></p>
<p>可以讓你一步步設定每個細節，而且不用自己手動去改設定，只要跑 <code>p10k configure</code> 這個指令就好，對懶人十分的友善阿，而且 <a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> 直接推薦我們安裝 <code>MesloLGS NF</code> 字型，裝好就完事了，不需要像 <a target="_blank" rel="noopener" href="https://github.com/Powerlevel9k/powerlevel9k">powerlevel9k</a> 還要自己調字型和大小，另一個優點就是速度了，官方說是比 powerlevel9k 快上不少，但是因為我同時也換了 zimfw 所以不知道是不是真的有變快</p>
<h2 id="Nord"><a target="_blank" rel="noopener" href="https://www.nordtheme.com/">Nord</a></h2>
<p>顏色的配置我使用 Nord 這款，有冰天雪地高冷的感覺，我把他套用到 <a target="_blank" rel="noopener" href="https://sw.kovidgoyal.net/kitty/">kitty</a>, vim, tmux 上，讓整個環境有一致的色調，十分舒服，請看下圖，安裝的部分可以到 <a target="_blank" rel="noopener" href="https://github.com/arcticicestudio?tab=repositories">官方的 github</a> 裡面去找，各大常見的編輯器幾乎都有支援</p>
<p align="center"><img data-src="/images/nord.gif" class=" lazyload"  title="nord 顏色配置效果"></p>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2020/01/18/terminal/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2019-06-06T16:00:00.000Z" title="6/7/2019, 12:00:00 AM">2019-06-07</time></span><i class="material-icons">schedule</i><span class="level-item">5 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/07/pyc/">【技術筆記】pyc 與他們的產地</a></h1><div class="content"><h2 id="pyc-格式">pyc 格式</h2>
<ul>
<li>前 8 bytes 是 magic number，不同的 python 的版本會有不同的 magic number，參考 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/master/Lib/importlib/_bootstrap_external.py">/python/cpython/Lib/importlib/_bootstrap_external.py</a> 或 <a target="_blank" rel="noopener" href="https://github.com/google/pytype/blob/master/pytype/pyc/magic.py">/google/pytype/blob/master/pytype/pyc/magic.py</a></li>
<li>接下來 8 bytes 會是 pyc 被產生出來的時間戳記</li>
<li>剩下的都是序列化的 PyCodeObject ( marshal.dumps 的結果 )</li>
</ul>
<details class="admonition info" open><summary>python2</summary><p><p>python2 的 magic number 和時間戳記都是 4 bytes</p>
</p></details>
<h2 id="編譯-pyc">編譯 pyc</h2>
<h3 id="import">import</h3>
<p><code>import</code> 其他的 python 程式的時候，會把被引入的程式編譯成 <code>.pyc</code> 放到 <code>__pycache__</code> 資料夾<br>
這樣可以減少引入的時間</p>
<h3 id="py-compile"><code>py_compile</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> py_compile</span><br><span class="line">py_compile.<span class="built_in">compile</span>(<span class="string">&#x27;test.py&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>就會生成 <code>.pyc</code> 檔在 <code>__pycache__</code> 資料夾</p>
<h3 id="compileall"><code>compileall</code></h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m compileall .</span><br></pre></td></tr></table></figure>
<p>可以一次 compile 資料夾內所有檔案</p>
<h2 id="反編譯-pyc">反編譯 pyc</h2>
<p>要 decompile pyc 可以使用 <a target="_blank" rel="noopener" href="https://github.com/rocky/python-uncompyle6/">uncompyle6</a> 或 <a target="_blank" rel="noopener" href="https://github.com/rocky/python-decompile3">decompyle3</a> 或 <a target="_blank" rel="noopener" href="https://github.com/zrax/pycdc">pycdc</a></p>
<p>但是注意到 <a target="_blank" rel="noopener" href="https://github.com/rocky/python-uncompyle6/">uncompyle6</a> 對 3.6 版以上的支援沒有很好，可以看 <a target="_blank" rel="noopener" href="https://github.com/rocky/python-uncompyle6/issues/316">這個 issue</a>，作者沒錢拿也累了，而且新版本又多了新東西，cfg 更難分析，所以 fork 出去了 <a target="_blank" rel="noopener" href="https://github.com/rocky/python-decompile3">decompyle3</a> 試圖重新整理並解決問題。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uncompyle6 test.pyc</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># uncompyle6 version 3.3.2</span></span><br><span class="line"><span class="comment"># Python bytecode 3.7 (3394)</span></span><br><span class="line"><span class="comment"># Decompiled from: Python 3.7.0 (default, Oct  9 2018, 16:58:41)</span></span><br><span class="line"><span class="comment"># [GCC 5.4.0 20160609]</span></span><br><span class="line"><span class="comment"># Embedded file name: /home/oalieno/lib.py</span></span><br><span class="line"><span class="comment"># Size of source mod 2**32: 23 bytes</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"><span class="comment"># okay decompiling lib.cpython-37.pyc</span></span><br></pre></td></tr></table></figure>
<h2 id="marshal-dis">marshal &amp; dis</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> marshal</span><br><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"></span><br><span class="line"><span class="comment"># PyCodeObject</span></span><br><span class="line">code = marshal.loads(<span class="built_in">open</span>(<span class="string">&#x27;test.pyc&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()[<span class="number">16</span>:])</span><br><span class="line">code = <span class="built_in">compile</span>(<span class="string">&#x27;x = 1&#x27;</span>, <span class="string">&#x27;filename&#x27;</span>, <span class="string">&#x27;exec&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># bytecode</span></span><br><span class="line">code.co_code</span><br><span class="line"></span><br><span class="line"><span class="comment"># disassemble PyCodeObject (with line number and some meta data)</span></span><br><span class="line">dis.dis(code)</span><br><span class="line"></span><br><span class="line"><span class="comment"># disassemble bytecode (directly)</span></span><br><span class="line">dis.dis(code.co_code)</span><br></pre></td></tr></table></figure>
<h2 id="用眼睛看-marshal-dumps-data">用眼睛看 marshal dumps data</h2>
<p>可以參考 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/3.8/Python/marshal.c">marshal.c</a>，格式都是一個 byte 的 type 加上後面一段 data，主要的程式碼在這裡 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/3.8/Python/marshal.c#L953">marshal.c line 953</a>，這裡的 <code>r_object</code> 嘗試去讀一個 <code>object</code> 進來，裡面就用 switch case 去處理不同的 type。<br>
比如 <code>TYPE_INT</code> 就是用 <code>r_long</code> 去讀 4 個 bytes 的 long 進來，所以 <code>marshal.dumps(1)</code> 就會長得像 <code>b'\xe9\x01\x00\x00\x00'</code>，前面的 type 有時候會被 <code>| 0x80</code>，請看 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/3.8/Python/marshal.c#L223">marshal.c line 223</a>，所以 <code>0xe9 &amp; (0x80 - 1) = ord('i')</code>。<br>
另一個像是 <code>TYPE_CODE</code> 就先 <code>r_long</code> 了六次，讀了 <code>argcount, posonlyargcount, kwonlyargcount, ...</code> 進來，接下來才用 <code>r_object</code> 把 code 讀進來 ( 也就是 bytecode )，讀進來的 object 其實是 bytes 型態，也就是 bytecode 是用 bytes 型態存在 code object 裡面的，接下來再繼續把一些 <code>consts, names, varnames, ...</code> 讀進來。</p>
<hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/dis.html">https://docs.python.org/3/library/dis.html</a></li>
<li><a target="_blank" rel="noopener" href="http://unpyc.sourceforge.net/Opcodes.html">http://unpyc.sourceforge.net/Opcodes.html</a></li>
<li><a target="_blank" rel="noopener" href="https://kdr2.com/tech/main/1012-pyc-format.html">https://kdr2.com/tech/main/1012-pyc-format.html</a></li>
<li><a target="_blank" rel="noopener" href="https://late.am/post/2012/03/26/exploring-python-code-objects.html">https://late.am/post/2012/03/26/exploring-python-code-objects.html</a></li>
</ol>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2019/06/07/pyc/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2019-04-22T16:00:00.000Z" title="4/23/2019, 12:00:00 AM">2019-04-23</time></span><i class="material-icons">schedule</i><span class="level-item">a minute</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/04/23/compile-kernel/">【手把手教你玩 Kernel】編譯 Linux Kernel</a></h1><div class="content"><h2 id="原始碼下載">原始碼下載</h2>
<p>可以從 <a target="_blank" rel="noopener" href="https://www.kernel.org/">www.kernel.org</a> 下載最新的 kernel ( 我是下載 5.0.9 的 )</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.0.9.tar.xz</span><br><span class="line">x linux-5.0.9.tar.xz</span><br></pre></td></tr></table></figure>
<h2 id="設置編譯參數">設置編譯參數</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make menuconfig</span><br></pre></td></tr></table></figure>
<p>有選單可以客製化，選完之後會產生 <code>.config</code></p>
<img src="https://i.imgur.com/hbbpTGY.png">
<h2 id="編譯">編譯</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j$(<span class="built_in">nproc</span>)</span><br></pre></td></tr></table></figure>
<p><code>-j</code> 多個程序並行編譯</p>
<details class="admonition info" open><summary>make help</summary><p><p>可以用 <code>make help</code> 看看有哪些參數可以用</p>
</p></details>
<h2 id="安裝">安裝</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j$(<span class="built_in">nproc</span>) modules_install</span><br></pre></td></tr></table></figure>
<p>安裝內核模塊 ( kernel module )<br>
會裝到 <code>/lib/modules/</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j$(<span class="built_in">nproc</span>) install</span><br></pre></td></tr></table></figure>
<p>安裝內核本體<br>
會裝到 <code>/boot</code><br>
並且會自動更新 grub<br>
下次重啟系統就會是新的內核</p>
<details class="admonition info" open><summary>安裝到其他目錄</summary><p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> INSTALL_PATH=/path/to/install</span><br></pre></td></tr></table></figure></p></details>
<hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.cyberciti.biz/tips/compiling-linux-kernel-26.html">https://www.cyberciti.biz/tips/compiling-linux-kernel-26.html</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/35931157/change-linux-kernel-installation-directory">https://stackoverflow.com/questions/35931157/change-linux-kernel-installation-directory</a></li>
</ol>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2019/04/23/compile-kernel/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2019-04-22T16:00:00.000Z" title="4/23/2019, 12:00:00 AM">2019-04-23</time></span><i class="material-icons">schedule</i><span class="level-item">3 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/04/23/debug-kernel/">【手把手教你玩 Kernel】如何對 Kernel 除錯</a></h1><div class="content"><h2 id="編譯-kernel">編譯 kernel</h2>
<p>參考 <a href="/security/pwn/compile-kernel">Compile Kernel</a></p>
<h2 id="initramfs">initramfs</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> --parents initramfs/&#123;bin,dev,etc,lib,lib64,mnt/root,proc,root,sbin,sys&#125;</span><br><span class="line"><span class="built_in">cp</span> `<span class="built_in">which</span> busybox` initramfs/bin/</span><br></pre></td></tr></table></figure>
<p><code>busybox</code> 是集成了很多常用 linux 命令的工具<br>
接下來我們需要編輯兩個檔案，<code>initramfs/init</code> 和 <code>initramfs/etc/passwd</code></p>
<h3 id="init">init</h3>
<figure class="highlight bash"><figcaption><span>tab</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/busybox sh</span></span><br><span class="line"></span><br><span class="line">/bin/busybox <span class="built_in">mkdir</span> -p /usr/sbin /usr/bin /sbin /bin</span><br><span class="line">/bin/busybox --install -s</span><br><span class="line"></span><br><span class="line">mount -t proc none /proc</span><br><span class="line">mount -t sysfs none /sys</span><br><span class="line"></span><br><span class="line"><span class="built_in">ln</span> -s /dev/console /dev/ttyS0</span><br><span class="line"></span><br><span class="line"><span class="built_in">sleep</span> 2</span><br><span class="line"></span><br><span class="line">setsid cttyhack su root</span><br><span class="line"></span><br><span class="line">poweroff -f</span><br></pre></td></tr></table></figure>
<p>kernel 跑起來的時候會檢查是否有 initramfs，有的話就會把它 mount 在 <code>/</code> 然後跑 <code>/init</code></p>
<h3 id="passwd">passwd</h3>
<figure class="highlight bash"><figcaption><span>tab</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0::/root:/bin/sh</span><br></pre></td></tr></table></figure>
<h3 id="打包">打包</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> initramfs</span><br><span class="line">find . -print0 | cpio --null --create --verbose --format=newc | gzip --best &gt; ../initramfs.cpio.gz</span><br></pre></td></tr></table></figure>
<h2 id="qemu-system">qemu-system</h2>
<figure class="highlight bash"><figcaption><span>tab</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">qemu-system-x86_64 -kernel ./linux-5.0.9/arch/x86_64/boot/bzImage \</span><br><span class="line">                   -initrd ./initramfs.cpio.gz \</span><br><span class="line">                   -nographic \</span><br><span class="line">                   -append <span class="string">&quot;console=ttyS0 nokaslr&quot;</span> \</span><br><span class="line">                   -gdb tcp:127.0.0.1:7777</span><br></pre></td></tr></table></figure>
<p><code>nokaslr</code> 關掉 kernel 的位址隨機化，方便我們除錯<br>
<code>-gdb</code> 開一個 gdb server 讓我們可以連上去除錯</p>
<details class="admonition info" open><summary>如何跳出 qemu-system</summary><p><p><code>Ctrl-A X</code></p>
</p></details>
<h2 id="gdb">gdb</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(gdb) target remote :7777</span><br><span class="line">(gdb) <span class="built_in">set</span> auto-load safe-path .</span><br><span class="line">(gdb) file ./linux-5.0.9/vmlinux</span><br><span class="line">(gdb) apropos lx <span class="comment"># 顯示包含 lx 的指令 ( 從 vmlinux-gdb.py 載入的輔助函式 )</span></span><br><span class="line">lx-cmdline --  Report the Linux Commandline used <span class="keyword">in</span> the current kernel</span><br><span class="line">lx-cpus -- List CPU status arrays</span><br><span class="line">lx-dmesg -- Print Linux kernel <span class="built_in">log</span> buffer</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>因為 gdb 會自動載入一些檔案，但有些檔案可能是不可信任的<br>
<code>set auto-load safe-path</code> 就是設定可以信任的路徑，底下的檔案會自動載入，比如說一些 python script<br>
這裡我們要載入的是 <code>./linux-5.0.9/vmlinux-gdb.py</code></p>
<hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/DrottningholmEast/article/details/76651580">https://blog.csdn.net/DrottningholmEast/article/details/76651580</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.gentoo.org/wiki/Custom_Initramfs">https://wiki.gentoo.org/wiki/Custom_Initramfs</a></li>
<li><a target="_blank" rel="noopener" href="http://nickdesaulniers.github.io/blog/2018/10/24/booting-a-custom-linux-kernel-in-qemu-and-debugging-it-with-gdb/">http://nickdesaulniers.github.io/blog/2018/10/24/booting-a-custom-linux-kernel-in-qemu-and-debugging-it-with-gdb/</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/chrisniu1984/article/details/3907874">https://blog.csdn.net/chrisniu1984/article/details/3907874</a></li>
</ol>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2019/04/23/debug-kernel/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2019-01-05T16:00:00.000Z" title="1/6/2019, 12:00:00 AM">2019-01-06</time></span><i class="material-icons">schedule</i><span class="level-item">2 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/01/06/GIL/">【程式語言】Python GIL</a></h1><div class="content"><h2 id="GIL-解決了什麼問題">GIL 解決了什麼問題</h2>
<p>每個 python 的物件都有一個 reference count<br>
可以透過 <code>sys.getrefcount</code> 這個函式查看</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.getrefcount(a)</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>以上的例子，有 <code>a, b</code> 和 <code>sys.getrefcount</code> 的參數三個 reference<br>
在有很多 threads 的情況下我們必須防止這個 reference count 的 race condition<br>
一個簡單的解決方法就是 GIL</p>
<h2 id="為什麼選-GIL-作為解決方法">為什麼選 GIL 作為解決方法</h2>
<p>就因為簡單易用，讓開發者會想加入開發以及使用它 ( 正因為如此使得 python 這麼熱門 )</p>
<h2 id="那-GIL-為什麼到現在都還沒被拿掉">那 GIL 為什麼到現在都還沒被拿掉</h2>
<p>因為很多提案雖然讓 multithread 效率增加但卻讓 singlethread 變慢了</p>
<h2 id="python-3-2">python 3.2</h2>
<p>在 python 3.2 稍微修改了 GIL 的運作機制 ( 小改進 )<br>
原本在有 CPU-bound 和 IO-bound 的 threads 互搶時，IO-bound 要等很久才能拿回 GIL ( <a target="_blank" rel="noopener" href="http://dabeaz.blogspot.com/2010/01/python-gil-visualized.html">詳情看這篇</a> )</p>
<h2 id="有-GIL-怎辦">有 GIL 怎辦</h2>
<h3 id="multiprocessing">multiprocessing</h3>
<p>用 multiprocessing 分許多 process，每個 process 會有獨立的 interpreter 和 memory space ( 不會有因為 GIL 卡住的問題 )<br>
但是 multi-processing 比起 multi-threading 會有額外的 overhead</p>
<h3 id="Alternative-Python-interpreters">Alternative Python interpreters</h3>
<p>可以用其他實作版本的 python interpreters<br>
比如 Jython 和 IronPython 沒有 GIL</p>
<hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://realpython.com/python-gil/">https://realpython.com/python-gil/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Obt-vMVdM8s">https://www.youtube.com/watch?v=Obt-vMVdM8s</a></li>
<li><a target="_blank" rel="noopener" href="http://dabeaz.blogspot.com/2010/01/python-gil-visualized.html">http://dabeaz.blogspot.com/2010/01/python-gil-visualized.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.dabeaz.com/python/GIL.pdf">http://www.dabeaz.com/python/GIL.pdf</a></li>
</ol>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2019/01/06/GIL/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2019-01-05T16:00:00.000Z" title="1/6/2019, 12:00:00 AM">2019-01-06</time></span><i class="material-icons">schedule</i><span class="level-item">a few seconds</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/01/06/c++17/">【程式語言】What&#039;s new in C++17</a></h1><div class="content"><h2 id="Structured-Bindings">Structured Bindings</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> [a, b, c] = <span class="built_in">tuple</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>, <span class="number">0.5</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mymap = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; [key, value] : mymap) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> [a, b] = <span class="built_in">tuple</span>(<span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>); a &lt; <span class="number">5</span>; a++) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Template-Argument-Deduction">Template Argument Deduction</h2>
<figure class="highlight c++"><figcaption><span>c++17</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> p = <span class="built_in">pair</span>(<span class="number">2</span>, <span class="number">4.5</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><figcaption><span>c++14</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> p = <span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">double</span>&gt;(<span class="number">2</span>, <span class="number">4.5</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Selection-Initialization">Selection Initialization</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">auto</span> a = <span class="built_in">getval</span>(); a &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (<span class="keyword">auto</span> ch = <span class="built_in">getnext</span>(); ch) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.fluentcpp.com/2018/06/19/3-simple-c17-features-that-will-make-your-code-simpler/">https://www.fluentcpp.com/2018/06/19/3-simple-c17-features-that-will-make-your-code-simpler/</a></li>
<li><a target="_blank" rel="noopener" href="https://hackernoon.com/a-tour-of-c-17-if-constexpr-3ea62f62ff65">https://hackernoon.com/a-tour-of-c-17-if-constexpr-3ea62f62ff65</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38060436/what-are-the-new-features-in-c17">https://stackoverflow.com/questions/38060436/what-are-the-new-features-in-c17</a></li>
</ol>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2019/01/06/c++17/#more">Read more</a></div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/%E7%A8%8B%E5%BC%8F/page/0/">Previous</a></div><div class="pagination-next"><a href="/categories/%E7%A8%8B%E5%BC%8F/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/%E7%A8%8B%E5%BC%8F/">1</a></li><li><a class="pagination-link" href="/categories/%E7%A8%8B%E5%BC%8F/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/avatar.png" alt="oalieno"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">oalieno</p><p class="is-size-6 is-block">資安研究員</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">42</p></a></div></div></nav><div class="level"><a class="level-item button is-primary" href="https://github.com/oalieno" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/oalieno"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/oalieno"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Linkedin" href="https://www.linkedin.com/in/oalieno/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%8D%80%E5%A1%8A%E9%8D%8A/"><span class="level-start"><span class="level-item">區塊鍊</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%BC%94%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">演算法</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%A8%8B%E5%BC%8F/"><span class="level-start"><span class="level-item">程式</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/"><span class="level-start"><span class="level-item">資安</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/pwn/"><span class="level-start"><span class="level-item">pwn</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/reverse/"><span class="level-start"><span class="level-item">reverse</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/writeups/"><span class="level-start"><span class="level-item">writeups</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-10-31T16:00:00.000Z">2022-11-01</time></p><p class="title"><a href="/2022/11/01/MpDlpCmd/">【Windows Security】MpDlpCmd.exe</a></p><p class="categories"><a href="/categories/%E8%B3%87%E5%AE%89/">資安</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-29T16:00:00.000Z">2022-03-30</time></p><p class="title"><a href="/2022/03/30/blog03/">【部落格開發日誌】0x03</a></p><p class="categories"><a href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-26T16:00:00.000Z">2021-02-27</time></p><p class="title"><a href="/2021/02/27/flow/">【項目介紹】Flow ( Dapper Labs )</a></p><p class="categories"><a href="/categories/%E5%8D%80%E5%A1%8A%E9%8D%8A/">區塊鍊</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-08-15T16:00:00.000Z">2020-08-16</time></p><p class="title"><a href="/2020/08/16/clipboard-hijack/">Clipboard hijacking cryptocurrency malware on tradingview.com</a></p><p class="categories"><a href="/categories/%E8%B3%87%E5%AE%89/">資安</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-07-30T16:00:00.000Z">2020-07-31</time></p><p class="title"><a href="/2020/07/31/maltego/">【工具介紹】Maltego</a></p><p class="categories"><a href="/categories/%E8%B3%87%E5%AE%89/">資安</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">November 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/GIL/"><span class="tag">GIL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/adb/"><span class="tag">adb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blockchain/"><span class="tag">blockchain</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">blog</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/burp/"><span class="tag">burp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c++</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/command/"><span class="tag">command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/crypto/"><span class="tag">crypto</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ctf/"><span class="tag">ctf</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dapper-labs/"><span class="tag">dapper labs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/drony/"><span class="tag">drony</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flow/"><span class="tag">flow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/frida/"><span class="tag">frida</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gdb/"><span class="tag">gdb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/icarus/"><span class="tag">icarus</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kernel/"><span class="tag">kernel</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nord/"><span class="tag">nord</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nox/"><span class="tag">nox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/osint/"><span class="tag">osint</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/powerlevel10k/"><span class="tag">powerlevel10k</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/powerlevel9k/"><span class="tag">powerlevel9k</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/proxy/"><span class="tag">proxy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pwn/"><span class="tag">pwn</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pyc/"><span class="tag">pyc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reverse/"><span class="tag">reverse</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reverse-ssh/"><span class="tag">reverse ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rootkit/"><span class="tag">rootkit</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rsa/"><span class="tag">rsa</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/seo/"><span class="tag">seo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/srop/"><span class="tag">srop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tunnel/"><span class="tag">tunnel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/windows/"><span class="tag">windows</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/windows-defender/"><span class="tag">windows defender</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/writeups/"><span class="tag">writeups</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zimfw/"><span class="tag">zimfw</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zsh/"><span class="tag">zsh</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">歐欸利恩的部落格</a><p class="is-size-7"><span>&copy; 2022 oalieno</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/oalieno"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js" integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>